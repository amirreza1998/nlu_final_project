import random
def rewrite_diff_style(base_conversation, conv_style=None):    
    conversation_styles = [
        "formal_medical",      
        "friendly_doctor",     
        "emergency_urgent",   
        "educational",         
        "reassuring"          
    ]
    conversation_styles_persian = {
        "formal_medical": "رسمی پزشکی",
        "friendly_doctor": "دوستانه",
        "emergency_urgent": "اورژانسی",
        "educational": "آموزشی",
        "reassuring": "دلگرم‌کننده",
    }

    if conv_style is None:
        conv_style = random.choice(conversation_styles)
    conv_style_persian = conversation_styles_persian.get(conv_style, conv_style)

    # prompt for generate conversation with different styles
    # for conv_style in conversation_styles:
    conv_style_persian = conversation_styles_persian.get(conv_style, conv_style)
    style_prompt = f"""
    مکالمه قبلی را به سبک {conv_style_persian} بازنویسی کن:
    {base_conversation}
    """
    return style_prompt

base_conversation= '''
بیمار: (با صدایی کمی لکنت‌دار و وحشت‌زده) سلام دکتر... کمک... نمی‌دونم چی شده... یهو نصف صورتم بی‌حس شد و دست چپم رو نمی‌تونم تکون بدم... حرف زدن هم برام سخت شده.
پزشک: (با لحنی آرام و قاطع) آروم باشین. من دکتر هستم و اینجا کمکتون می‌کنیم. می‌فهمم که ترسیدین. لطفاً به من نگاه کنید. دقیقاً از کی این علائم شروع شد؟ حتی چند دقیقه هم مهمه.
بیمار: شاید... شاید نیم ساعت پیش... داشتم تلویزیون می‌دیدم که یهو سرم گیج رفت و اینجوری شدم. دکتر یعنی من سکته کردم؟ من که سنی ندارم! خیلی می‌ترسم.
پزشک: علائمی که میگین خیلی جدیه و ما داریم احتمال سکته مغزی رو بررسی می‌کنیم. سکته مغزی در سنین جوانی هم ممکنه اتفاق بیفته. مهم‌ترین چیز اینه که شما خیلی سریع خودتون رو رسوندین اینجا. ما الان باید فوراً یک سی‌تی اسکن از مغز شما بگیریم تا ببینیم علت این علائم، گرفتگی رگ هست یا خونریزی. این اولین و مهم‌ترین قدمه.
بیمار: سی‌تی اسکن؟ بعدش چی می‌شه؟ یعنی خوب میشم؟ دستم دوباره حرکت می‌کنه؟
پزشک: ببینید، اگر سی‌تی اسکن نشون بده که یک لخته خون باعث این علائم شده، ما یک داروی خیلی قوی داریم که بهش میگن "داروی حل‌کننده لخته" یا tPA. این دارو می‌تونه لخته رو حل کنه و جریان خون به مغز رو برگردونه. هرچقدر زودتر این دارو تزریق بشه، شانس بهبودی و برگشت حرکت دست شما بیشتره. به خاطر همینه که داریم انقدر سریع کار می‌کنیم.
بیمار: اگه اون دارو کار نکنه چی؟ من برای همیشه فلج میشم؟ نمی‌خوام اینجوری زندگی کنم...
پزشک: من نگرانی شما رو کاملاً درک می‌کنم. این دارو در ساعات اولیه بسیار موثره. اما فرآیند درمان به همین‌جا ختم نمیشه. ما یک تیم کامل توان‌بخشی داریم، شامل فیزیوتراپی، گفتاردرمانی و کاردرمانی که بعد از مرحله حاد، به شما کمک می‌کنن تا حرکت و قدرتتون رو تا جای ممکن دوباره به دست بیارین. خیلی از بیماران جوان بهبودی چشمگیری دارن.
بیمار: (با اضطراب) علت این اتفاق چیه؟ من همیشه سعی کردم سالم باشم.
پزشک: در حال حاضر تمام تمرکز ما روی درمان فوری شماست. بعد از اینکه وضعیتتون پایدار شد، با آزمایش خون و بررسی‌های دقیق‌تر مثل سونوگرافی عروق گردن، دنبال علت اصلی می‌گردیم تا از تکرار اون جلوگیری کنیم. عواملی مثل فشار خون بالا، کلسترول یا برخی مشکلات قلبی می‌تونن زمینه‌ساز باشن. الان تیم ما آماده‌ست که شما رو برای سی‌تی اسکن ببره. سوال دیگه‌ای دارین؟
بیمار: نه... فقط... فقط لطفاً کمکم کنید.
پزشک: ما اینجا کنار شما هستیم و تمام تلاش‌مون رو می‌کنیم. شما الان در بهترین زمان ممکن برای درمان مراجعه کردید. قوی باشید. ما خیلی سریع شما رو به بخش سی‌تی اسکن منتقل می‌کنیم.'''
print(rewrite_diff_style(base_conversation))
